{"ast":null,"code":"import axios from 'axios';\nimport { store } from '../store';\nexport default {\n  name: 'GetWood',\n\n  data() {\n    return {\n      errors: [],\n      store,\n      show: false\n    };\n  },\n\n  methods: {\n    sendWood() {\n      console.log(\"sends wood now to fire\");\n      const postBody = {\n        v: true,\n        seg: [{\n          start: 0,\n          stop: 15,\n          bri: 255,\n          fx: 102,\n          col: [[this.store.red, this.store.green, this.store.blue, 1], [0, 0, 0, 0], [0, 0, 0, 0]]\n        }, {\n          start: 16,\n          stop: 30,\n          bri: 255,\n          fx: 102,\n          col: [[255, 255, 255, 1], [0, 0, 0, 0], [0, 0, 0, 0]]\n        }]\n      };\n      axios.post(\"http://\" + store.ip + \"/json/state\", postBody).then(() => {\n        setTimeout(() => {\n          const postBody = {\n            v: true,\n            seg: [{\n              start: 0,\n              stop: 15,\n              bri: 50,\n              col: [[this.store.red, this.store.green, this.store.blue, 1], [0, 0, 0, 0], [0, 0, 0, 0]]\n            }]\n          };\n          axios.post(\"http://\" + store.ip + \"/json/state\", postBody);\n        }, 60000);\n      }).catch(e => {\n        this.errors.push(e);\n      });\n    },\n\n    hideSuccess() {\n      this.store.triggerWood = false;\n      this.show = false;\n    }\n\n  },\n\n  async created() {\n    if (store.triggerWood) {\n      setTimeout(() => {\n        this.show = true;\n        this.sendWood();\n      }, 15000);\n    }\n  }\n\n};","map":{"version":3,"mappings":"AAUA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,UAAtB;AAEA,eAAe;AACbC,MAAI,EAAE,SADO;;AAGbC,MAAI,GAAG;AACL,WAAO;AACLC,YAAM,EAAE,EADH;AAELH,WAFK;AAGLI,UAAI,EAAE;AAHD,KAAP;AAKD,GATY;;AAWbC,SAAO,EAAE;AACPC,YAAQ,GAAG;AACTC,aAAO,CAACC,GAAR,CAAY,wBAAZ;AACA,YAAMC,QAAO,GAAI;AACfC,SAAC,EAAE,IADY;AAEfC,WAAG,EAAE,CACH;AACIC,eAAK,EAAE,CADX;AAEIC,cAAI,EAAE,EAFV;AAGIC,aAAG,EAAE,GAHT;AAIIC,YAAE,EAAE,GAJR;AAKIC,aAAG,EAAE,CACH,CAAC,KAAKhB,KAAL,CAAWiB,GAAZ,EAAiB,KAAKjB,KAAL,CAAWkB,KAA5B,EAAmC,KAAKlB,KAAL,CAAWmB,IAA9C,EAAoD,CAApD,CADG,EAEH,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAFG,EAGH,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAHG;AALT,SADG,EAYD;AACEP,eAAK,EAAE,EADT;AAEEC,cAAI,EAAE,EAFR;AAGEC,aAAG,EAAE,GAHP;AAIEC,YAAE,EAAE,GAJN;AAKEC,aAAG,EAAE,CACH,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB,CADG,EAEH,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAFG,EAGH,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAHG;AALP,SAZC;AAFU,OAAjB;AA4BAjB,WAAK,CAACqB,IAAN,CAAW,YAAYpB,KAAK,CAACqB,EAAlB,GAAuB,aAAlC,EAAiDZ,QAAjD,EACCa,IADD,CACM,MAAM;AACVC,kBAAU,CAAC,MAAM;AACf,gBAAMd,QAAO,GAAI;AACfC,aAAC,EAAE,IADY;AAEfC,eAAG,EAAE,CACH;AACEC,mBAAK,EAAE,CADT;AAEEC,kBAAI,EAAE,EAFR;AAGEC,iBAAG,EAAE,EAHP;AAIEE,iBAAG,EAAE,CACH,CAAC,KAAKhB,KAAL,CAAWiB,GAAZ,EAAiB,KAAKjB,KAAL,CAAWkB,KAA5B,EAAmC,KAAKlB,KAAL,CAAWmB,IAA9C,EAAoD,CAApD,CADG,EAEH,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAFG,EAGH,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAHG;AAJP,aADG;AAFU,WAAjB;AAeApB,eAAK,CAACqB,IAAN,CAAW,YAAYpB,KAAK,CAACqB,EAAlB,GAAuB,aAAlC,EAAiDZ,QAAjD;AACD,SAjBS,EAiBP,KAjBO,CAAV;AAkBD,OApBD,EAqBCe,KArBD,CAqBOC,KAAK;AACV,aAAKtB,MAAL,CAAYuB,IAAZ,CAAiBD,CAAjB;AACD,OAvBD;AAwBD,KAvDM;;AAwDPE,eAAW,GAAG;AACZ,WAAK3B,KAAL,CAAW4B,WAAX,GAAyB,KAAzB;AACA,WAAKxB,IAAL,GAAY,KAAZ;AACD;;AA3DM,GAXI;;AAyEb,QAAMyB,OAAN,GAAgB;AACd,QAAI7B,KAAK,CAAC4B,WAAV,EAAuB;AACrBL,gBAAU,CAAC,MAAM;AACf,aAAKnB,IAAL,GAAY,IAAZ;AAEA,aAAKE,QAAL;AACD,OAJS,EAIP,KAJO,CAAV;AAKF;AACF;;AAjFa,CAAf","names":["axios","store","name","data","errors","show","methods","sendWood","console","log","postBody","v","seg","start","stop","bri","fx","col","red","green","blue","post","ip","then","setTimeout","catch","e","push","hideSuccess","triggerWood","created"],"sourceRoot":"","sources":["/Users/tamara/Docs/01_Master/Interaction Technology Innovation/Project/iti/src/components/GetWood.vue"],"sourcesContent":["<template>\n\n<div class=\"success\" :class=\"{'visible':show, 'hidden':!show}\">\n  <h3>Sarah added some wood to your fire for the next 10 minutes</h3>\n  <button @click=\"hideSuccess\">Great!</button>\n</div>\n  \n</template>\n\n<script>\nimport axios from 'axios';\nimport { store } from '../store'\n\nexport default {\n  name: 'GetWood',\n\n  data() {\n    return {\n      errors: [],\n      store,\n      show: false,\n    }\n  },\n\n  methods: {\n    sendWood() {\n      console.log(\"sends wood now to fire\")\n      const postBody = {\n        v: true,\n        seg: [\n          {\n              start: 0,\n              stop: 15,\n              bri: 255,\n              fx: 102,\n              col: [\n                [this.store.red, this.store.green, this.store.blue, 1],\n                [0, 0, 0, 0],\n                [0, 0, 0, 0]\n              ],\n            },\n            {\n              start: 16,\n              stop: 30,\n              bri: 255,\n              fx: 102,\n              col: [\n                [255, 255, 255, 1],\n                [0, 0, 0, 0],\n                [0, 0, 0, 0]\n              ],\n            },\n          ],\n      }\n\n      axios.post(\"http://\" + store.ip + \"/json/state\", postBody)\n      .then(() => {\n        setTimeout(() => {\n          const postBody = {\n            v: true,\n            seg: [\n              {\n                start: 0,\n                stop: 15,\n                bri: 50,\n                col: [\n                  [this.store.red, this.store.green, this.store.blue, 1],\n                  [0, 0, 0, 0],\n                  [0, 0, 0, 0]\n                ],\n              },\n        ],\n          }\n          axios.post(\"http://\" + store.ip + \"/json/state\", postBody)\n        }, 60000)\n      })\n      .catch(e => {\n        this.errors.push(e)\n      })\n    },\n    hideSuccess() {\n      this.store.triggerWood = false\n      this.show = false\n    },\n  },\n\n  async created() {\n    if (store.triggerWood) {\n      setTimeout(() => {\n        this.show = true\n\n        this.sendWood()\n      }, 15000)\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\ndiv {\n  margin-top: 30px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}