{"ast":null,"code":"import axios from 'axios';\nimport SideMenu from '../components/SideMenu.vue';\nimport GetWood from '../components/GetWood.vue';\nimport { store } from '../store';\nexport default {\n  name: 'AddWood',\n  components: {\n    SideMenu,\n    GetWood\n  },\n\n  data() {\n    return {\n      on: false,\n      errors: [],\n      postBody: {\n        v: true,\n        seg: [{\n          start: 0,\n          stop: 30,\n          bri: 255\n        }]\n      },\n      logInFire: false,\n      showSuccess: false,\n      store\n    };\n  },\n\n  methods: {\n    changeFire() {\n      console.log(\"change fire\");\n      axios.post(\"http://\" + store.ip + \"/json/state\", this.postBody).then().catch(e => {\n        this.errors.push(e);\n      });\n    },\n\n    startDrag(evt) {\n      evt.dataTransfer.dropEffect = 'move';\n      evt.dataTransfer.effectAllowed = 'move';\n    },\n\n    onDrop() {\n      console.log(\"added log\");\n      this.logInFire = true;\n      setTimeout(() => {\n        this.showSuccess = true;\n      }, 800);\n    },\n\n    hideSuccess() {\n      this.showSuccess = false;\n    }\n\n  },\n\n  async created() {\n    try {\n      const response = await axios.get(\"http://\" + store.ip + \"/json/state\");\n      this.on = response.on;\n    } catch (e) {\n      this.errors.push(e);\n    }\n  }\n\n};","map":{"version":3,"mappings":"AA2CA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,SAASC,KAAT,QAAsB,UAAtB;AAEA,eAAe;AACbC,MAAI,EAAE,SADO;AAEbC,YAAU,EAAE;AACVJ,YADU;AAEVC;AAFU,GAFC;;AAMbI,MAAI,GAAG;AACL,WAAO;AACLC,QAAE,EAAE,KADC;AAELC,YAAM,EAAE,EAFH;AAGLC,cAAQ,EAAE;AACRC,SAAC,EAAE,IADK;AAERC,WAAG,EAAE,CACD;AACEC,eAAK,EAAE,CADT;AAEEC,cAAI,EAAE,EAFR;AAGEC,aAAG,EAAE;AAHP,SADC;AAFG,OAHL;AAaLC,eAAS,EAAE,KAbN;AAcLC,iBAAW,EAAE,KAdR;AAeLb;AAfK,KAAP;AAiBD,GAxBY;;AA0Bbc,SAAO,EAAE;AACPC,cAAU,GAAG;AACXC,aAAO,CAACC,GAAR,CAAY,aAAZ;AACApB,WAAK,CAACqB,IAAN,CAAW,YAAYlB,KAAK,CAACmB,EAAlB,GAAuB,aAAlC,EAAiD,KAAKb,QAAtD,EACCc,IADD,GAECC,KAFD,CAEOC,KAAK;AACV,aAAKjB,MAAL,CAAYkB,IAAZ,CAAiBD,CAAjB;AACD,OAJD;AAKD,KARM;;AASPE,aAAS,CAACC,GAAD,EAAM;AACbA,SAAG,CAACC,YAAJ,CAAiBC,UAAjB,GAA8B,MAA9B;AACAF,SAAG,CAACC,YAAJ,CAAiBE,aAAjB,GAAiC,MAAjC;AACD,KAZM;;AAaPC,UAAM,GAAG;AACPb,aAAO,CAACC,GAAR,CAAY,WAAZ;AACA,WAAKL,SAAL,GAAiB,IAAjB;AAEAkB,gBAAU,CAAC,MAAM;AACf,aAAKjB,WAAL,GAAmB,IAAnB;AACD,OAFS,EAEP,GAFO,CAAV;AAGD,KApBM;;AAqBPkB,eAAW,GAAG;AACZ,WAAKlB,WAAL,GAAmB,KAAnB;AACF;;AAvBO,GA1BI;;AAoDb,QAAMmB,OAAN,GAAgB;AACd,QAAI;AACF,YAAMC,QAAO,GAAI,MAAMpC,KAAK,CAACqC,GAAN,CAAU,YAAYlC,KAAK,CAACmB,EAAlB,GAAuB,aAAjC,CAAvB;AACA,WAAKf,EAAL,GAAU6B,QAAQ,CAAC7B,EAAnB;AACF,KAHA,CAGE,OAAOkB,CAAP,EAAU;AACV,WAAKjB,MAAL,CAAYkB,IAAZ,CAAiBD,CAAjB;AACF;AACF;;AA3Da,CAAf","names":["axios","SideMenu","GetWood","store","name","components","data","on","errors","postBody","v","seg","start","stop","bri","logInFire","showSuccess","methods","changeFire","console","log","post","ip","then","catch","e","push","startDrag","evt","dataTransfer","dropEffect","effectAllowed","onDrop","setTimeout","hideSuccess","created","response","get"],"sourceRoot":"","sources":["/Users/tamara/Docs/01_Master/Interaction Technology Innovation/Project/iti/src/components/AddWood.vue"],"sourcesContent":["<template>\n  <side-menu :red=\"this.store.red\" :green=\"this.store.green\" :blue=\"this.store.blue\"></side-menu>\n\n  <get-wood></get-wood>\n\n  <div>\n    <h3>Add wood to the fire</h3>\n    <div\n      class=\"fire\"\n      :class=\"{'visible':!logInFire, 'hidden':logInFire}\"\n      @drop=\"onDrop()\"\n      @dragover.prevent\n      @dragenter.prevent\n    ><img alt=\"fire\" src=\"../assets/flame.svg\"></div>\n\n    <div\n      class=\"fire\"\n      :class=\"{'visible':logInFire, 'hidden':!logInFire}\"\n    ><img alt=\"fire\" src=\"../assets/log-in-fire.svg\">\n    </div>\n\n    <div class=\"drag-here\" :class=\"{'visible':!logInFire, 'hidden':logInFire}\">\n      <img alt=\"drag here\" src=\"../assets/drag-here.svg\">\n    </div>\n    \n    <div class=\"bottom\" :class=\"{'visible':!logInFire, 'hidden':logInFire}\">\n      <img \n        alt=\"log\"\n        class=\"log\"\n        src=\"../assets/log.svg\"\n        draggable\n        @dragstart=\"startDrag($event)\"\n      >\n    </div>\n\n    <div class=\"success\" :class=\"{'visible':showSuccess, 'hidden':!showSuccess}\">\n      <h3>You successfully added wood to Sarahs fire for 10 minutes</h3>\n      <button @click=\"hideSuccess\">Great!</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport SideMenu from '../components/SideMenu.vue'\nimport GetWood from '../components/GetWood.vue'\nimport { store } from '../store'\n\nexport default {\n  name: 'AddWood',\n  components: {\n    SideMenu,\n    GetWood,\n  },\n  data() {\n    return {\n      on: false,\n      errors: [],\n      postBody: {\n        v: true,\n        seg: [\n            {\n              start: 0,\n              stop: 30,\n              bri: 255,\n            },\n          ],\n      },\n      logInFire: false,\n      showSuccess: false,\n      store,\n    }\n  },\n\n  methods: {\n    changeFire() {\n      console.log(\"change fire\")\n      axios.post(\"http://\" + store.ip + \"/json/state\", this.postBody)\n      .then()\n      .catch(e => {\n        this.errors.push(e)\n      })\n    },\n    startDrag(evt) {\n      evt.dataTransfer.dropEffect = 'move'\n      evt.dataTransfer.effectAllowed = 'move'\n    },\n    onDrop() {\n      console.log(\"added log\")\n      this.logInFire = true\n\n      setTimeout(() => {\n        this.showSuccess = true\n      }, 800)\n    },\n    hideSuccess() {\n      this.showSuccess = false\n    }\n  },\n\n  async created() {\n    try {\n      const response = await axios.get(\"http://\" + store.ip + \"/json/state\")\n      this.on = response.on\n    } catch (e) {\n      this.errors.push(e)\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0;\n}\n\n.bottom{\n  margin-top: 20px;\n}\n\n.log {\n  padding: 20px;\n}\n\n.drag-here {\n  margin-top: 40px;\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module"}